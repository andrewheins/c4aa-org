/* 
 * Image Filters
 */

/*******************/
/* Duotone Filters */
/*******************/

/* Duotone Defaults */
:root {
	/* Default Colors */
	--duotone-default-base: var(--color-brandBeige);
	--duotone-default-foreground: var(--color-brandBlack);

	/* Default Image Treatment */
	--duotone-base: var(--duotone-default-base);
	--duotone-bg-blend: multiply;
	--duotone-blur: 0px;
	--duotone-fg-blend: screen;
	--duotone-foreground: var(--duotone-default-foreground);
	--duotone-opacity: 1;
	--duotone-spacing: 1%;
}

/*
Selectors are as follows:

Image block:
- .c4aa-duotone[class*="align"] - full width
- .c4aa-duotone > figure[class*="align"] - aligned left/right

Single header and archive thumbnails (not yet implemented):
- body.c4aa-duotone .post-thumbnail,

Single header:
- .single.c4aa-duotone .site-featured-image .post-thumbnail

Page header:
.page.c4aa-duotone .site-featured-image .post-thumbnail

*/

body.c4aa-duotone .post-thumbnail,
*[class*='is-style-c4aa-duotone'] {
	background-color: var(--duotone-base);
	overflow: hidden;
	padding: var(--duotone-spacing);
	position: relative;
	transition: background-color 250ms ease;
}

body.c4aa-duotone .post-thumbnail img,
*[class*='is-style-c4aa-duotone'] img {
	filter: grayscale(100%) contrast(1) blur(var(--duotone-blur));
	mix-blend-mode: var(--duotone-bg-blend);
	object-fit: cover;
	opacity: var(--duotone-opacity);
	position: relative;
	width: 100%;
	transition: mix-blend-mode filter opacity 250ms ease-in-out;
}

body.c4aa-duotone .post-thumbnail::before,
*[class*='is-style-c4aa-duotone']::before {
	background-color: var(--duotone-foreground);
	bottom: 0;
	content: '';
	height: 100%;
	left: 0;
	mix-blend-mode: var(--duotone-fg-blend);
	position: absolute;
	right: 0;
	top: 0;
	width: 100%;
	z-index: 1;
}

/* Remove Duotone on Hover */

*[class*='is-style-c4aa-duotone']:hover {
	background-color: initial;
	opacity: 1;
}

*[class*='is-style-c4aa-duotone']:hover::before {
	display: none;
}

*[class*='is-style-c4aa-duotone']:hover img {
	filter: none;
	mix-blend-mode: normal;
	opacity: 1;
}

.entry .entry-content .wp-block-image {
	max-width: 100vw;
}

.entry .entry-content .wp-block-image.alignfull img {
	width: 100%;
}

/********************************/
/* Case by case box adjustments */
/********************************/

/* Fill container on single post header images */
.single.c4aa-duotone .site-featured-image .post-thumbnail,
.page.c4aa-duotone .site-featured-image .post-thumbnail {
	height: 100%;
	width: 100%;
	top: 0;
	position: absolute;
}

/* 
 * Duotone Themes
 *
 * The variables that change from the defaults are overridden here.
 * These must match 1 to 1 with ACF settings.
 * 
 * The first color in the class name is base, the second is the foreground.
 */

*[class*='red-and-black'] {
	--duotone-base: var(--color-brandRed);
	--duotone-foreground: var(--color-brandBlack);
	--duotone-bg-blend: multiply;
	--duotone-fg-blend: screen;
	--duotone-opacity: 0.96;
	--duotone-spacing: 20px;
}

*[class*='beige-and-black'] {
	--duotone-base: var(--color-brandBeige);
	--duotone-foreground: var(--color-brandBlack);
	--duotone-bg-blend: multiply;
	--duotone-fg-blend: lighten;
	--duotone-opacity: 1;
}

*[class*='beige-and-red'] {
	--duotone-base: var(--color-brandBeige);
	--duotone-foreground: var(--color-brandRed);
	--duotone-bg-blend: multiply;
	--duotone-fg-blend: screen;
	--duotone-opacity: 1;
}

*[class*='beige-and-grey'] {
	--duotone-base: var(--color-brandBeige);
	--duotone-foreground: var(--color-brandGrey);
	--duotone-bg-blend: multiply;
	--duotone-fg-blend: screen;
	--duotone-opacity: 1;
}

*[class*='beige-and-grey-vintage'] {
	--duotone-base: var(--color-brandBeige);
	--duotone-foreground: var(--color-brandBlack);
	--duotone-bg-blend: color-burn;
	--duotone-fg-blend: screen;
	--duotone-opacity: 0.69;
}